<!doctype html>
<html lang="en">
  
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
  <meta name="generator" content="Hugo 0.79.0">
  <title>Ethiopia Dashboard</title>

  <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/dashboard/">
 


  <!-- Bootstrap core CSS -->
  <link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
    integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
    crossorigin="" />

  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
    integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
    crossorigin=""></script>

    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>


  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }

    #map {
      height: 300px;
      position: relative;
    }
    

  </style>


<!-- Custom styles for this template -->
<link href="dashboard.css" rel="stylesheet">
</head>

<body>

  <div class="container-fluid">
    <div class="row">
      <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
        <div class="position-sticky pt-3">
          <ul class="nav flex-column">
          </ul>

        </div>
      </nav>

      <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">

        <div id="map"></div>
        <script src="js/qgis2web_expressions.js"></script>
        <script src="js/leaflet.js"></script>
        <script src="js/leaflet.rotatedMarker.js"></script>
        <script src="js/leaflet.pattern.js"></script>
        <script src="js/leaflet-hash.js"></script>
        <script src="js/Autolinker.min.js"></script>
        <script src="js/rbush.min.js"></script>
        <script src="js/labelgun.min.js"></script>
        <script src="js/labels.js"></script>
        <script src="data/LandCables_1.js"></script>
        <script src="data/Electricity_2.js"></script>
        <script src="data/UnderseaCables_3.js"></script>
        <script src="data/IXP_4.js"></script>
        <script src="data/Roads_1.js"></script>
        <script src="data/Precipitation_2.js"></script>
        <script src="data/Eth_Zone_2013_1.js"></script>


        <script>
        var map = L.map('map', {
            zoomControl:true, maxZoom:28, minZoom:1
        }).fitBounds([[-19.774392637711404,-21.934101791329667],[40.877190436497585,74.09586386814748]]);
        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('<a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
        var autolinker = new Autolinker({truncate: {length: 30, location: 'smart'}});
        var bounds_group = new L.featureGroup([]);
        function setBounds() {
        }
        map.createPane('pane_GoogleMaps_0');
        map.getPane('pane_GoogleMaps_0').style.zIndex = 400;
        var layer_GoogleMaps_0 = L.tileLayer('https://mt1.google.com/vt/lyrs=m&x={x}&y={y}&z={z}', {
            pane: 'pane_GoogleMaps_0',
            opacity: 1.0,
            attribution: '',
            minZoom: 1,
            maxZoom: 28,
            minNativeZoom: 0,
            maxNativeZoom: 19
        });
        layer_GoogleMaps_0;
        map.addLayer(layer_GoogleMaps_0);



        function pop_Eth_Zone_2013_1(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ZONENAME'] !== null ? autolinker.link(feature.properties['ZONENAME'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ZON_P_CODE'] !== null ? autolinker.link(feature.properties['ZON_P_CODE'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['REGIONNAME'] !== null ? autolinker.link(feature.properties['REGIONNAME'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['REG_P_CODE'] !== null ? autolinker.link(feature.properties['REG_P_CODE'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['REG_Pcode'] !== null ? autolinker.link(feature.properties['REG_Pcode'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ZON_Pcode'] !== null ? autolinker.link(feature.properties['ZON_Pcode'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['HRname'] !== null ? autolinker.link(feature.properties['HRname'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['HRpcode'] !== null ? autolinker.link(feature.properties['HRpcode'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['HRparent'] !== null ? autolinker.link(feature.properties['HRparent'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_Eth_Zone_2013_1_0() {
            return {
                pane: 'pane_Eth_Zone_2013_1',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(212,89,225,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_Eth_Zone_2013_1');
        map.getPane('pane_Eth_Zone_2013_1').style.zIndex = 401;
        map.getPane('pane_Eth_Zone_2013_1').style['mix-blend-mode'] = 'normal';
        var layer_Eth_Zone_2013_1 = new L.geoJson(json_Eth_Zone_2013_1, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Eth_Zone_2013_1',
            layerName: 'layer_Eth_Zone_2013_1',
            pane: 'pane_Eth_Zone_2013_1',
            onEachFeature: pop_Eth_Zone_2013_1,
            style: style_Eth_Zone_2013_1_0,
        });
        bounds_group.addLayer(layer_Eth_Zone_2013_1);
        map.addLayer(layer_Eth_Zone_2013_1);
        setBounds();

        function pop_Roads_1(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['MED_DESCRI'] !== null ? autolinker.link(feature.properties['MED_DESCRI'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['RTT_DESCRI'] !== null ? autolinker.link(feature.properties['RTT_DESCRI'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['F_CODE_DES'] !== null ? autolinker.link(feature.properties['F_CODE_DES'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ISO'] !== null ? autolinker.link(feature.properties['ISO'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ISOCOUNTRY'] !== null ? autolinker.link(feature.properties['ISOCOUNTRY'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400});
        }

        function style_Roads_1_0() {
            return {
                pane: 'pane_Roads_1',
                opacity: 1,
                color: 'rgba(225,89,137,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 1.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_Roads_1');
        map.getPane('pane_Roads_1').style.zIndex = 401;
        map.getPane('pane_Roads_1').style['mix-blend-mode'] = 'normal';
        var layer_Roads_1 = new L.geoJson(json_Roads_1, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Roads_1',
            layerName: 'layer_Roads_1',
            pane: 'pane_Roads_1',
            onEachFeature: pop_Roads_1,
            style: style_Roads_1_0,
        });
        bounds_group.addLayer(layer_Roads_1);
        map.addLayer(layer_Roads_1);
        function pop_Precipitation_2(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Contour'] !== null ? autolinker.link(feature.properties['Contour'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['nVerts'] !== null ? autolinker.link(feature.properties['nVerts'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Title'] !== null ? autolinker.link(feature.properties['Title'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Unit'] !== null ? autolinker.link(feature.properties['Unit'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Resolution'] !== null ? autolinker.link(feature.properties['Resolution'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400}).on('click', function() { 

                myBarChart(feature.properties['Contour'].toLocaleString());
                });
       
        }

        function style_Precipitation_2_0() {
            return {
                pane: 'pane_Precipitation_2',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(196,60,57,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_Precipitation_2');
        map.getPane('pane_Precipitation_2').style.zIndex = 402;
        map.getPane('pane_Precipitation_2').style['mix-blend-mode'] = 'normal';
        var layer_Precipitation_2 = new L.geoJson(json_Precipitation_2, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Precipitation_2',
            layerName: 'layer_Precipitation_2',
            pane: 'pane_Precipitation_2',
            onEachFeature: pop_Precipitation_2,
            style: style_Precipitation_2_0,
        });
        bounds_group.addLayer(layer_Precipitation_2);
        map.addLayer(layer_Precipitation_2);
        setBounds();

        function pop_LandCables_1(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Name'] !== null ? autolinker.link(feature.properties['Name'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['descriptio'] !== null ? autolinker.link(feature.properties['descriptio'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['timestamp'] !== null ? autolinker.link(feature.properties['timestamp'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['begin'] !== null ? autolinker.link(feature.properties['begin'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['end'] !== null ? autolinker.link(feature.properties['end'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['altitudeMo'] !== null ? autolinker.link(feature.properties['altitudeMo'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['tessellate'] !== null ? autolinker.link(feature.properties['tessellate'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['extrude'] !== null ? autolinker.link(feature.properties['extrude'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['visibility'] !== null ? autolinker.link(feature.properties['visibility'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['drawOrder'] !== null ? autolinker.link(feature.properties['drawOrder'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['icon'] !== null ? autolinker.link(feature.properties['icon'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['layer'] !== null ? autolinker.link(feature.properties['layer'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400}).on('click', function() { 

                var typeStr = feature.properties['descriptio'].toLocaleString();
                var typeStart = typeStr.search("Cable type");
                var typeEnd = typeStr.search("Source URL");
                var typeRes = typeStr.slice(typeStart+11,typeEnd);


                var miscStr = feature.properties['descriptio'].toLocaleString();
                var miscStart = miscStr.search("Source URL");
                var miscEnd = miscStr.search("Notes:");
                var miscRes = miscStr.slice(miscStart+11,miscEnd);
                if (miscRes.length <= 2){
                    miscRes="No URL";
                }

                document.getElementById("landCablesName").innerHTML = "";
                document.getElementById("landCablesName").insertAdjacentHTML('beforeend', feature.properties['Name'].toLocaleString());

                document.getElementById("landCablesLocation").innerHTML = "";
                document.getElementById("landCablesLocation").insertAdjacentHTML('beforeend', feature.properties['layer'].toLocaleString());

                document.getElementById("landCablesType").innerHTML = "";
                document.getElementById("landCablesType").insertAdjacentHTML('beforeend', typeRes);

                document.getElementById("landCablesMISC").innerHTML = "";
                document.getElementById("landCablesMISC").insertAdjacentHTML('beforeend', miscRes );
             });
        }

        function style_LandCables_1_0() {
            return {
                pane: 'pane_LandCables_1',
                opacity: 1,
                color: 'rgba(9,9,9,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 3.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_LandCables_1');
        map.getPane('pane_LandCables_1').style.zIndex = 401;
        map.getPane('pane_LandCables_1').style['mix-blend-mode'] = 'normal';
        var layer_LandCables_1 = new L.geoJson(json_LandCables_1, {
            attribution: '',
            interactive: true,
            dataVar: 'json_LandCables_1',
            layerName: 'layer_LandCables_1',
            pane: 'pane_LandCables_1',
            onEachFeature: pop_LandCables_1,
            style: style_LandCables_1_0,
        });
        bounds_group.addLayer(layer_LandCables_1);
        map.addLayer(layer_LandCables_1);
        function pop_Electricity_2(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['voltage_kV'] !== null ? autolinker.link(feature.properties['voltage_kV'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['status'] !== null ? autolinker.link(feature.properties['status'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['source'] !== null ? autolinker.link(feature.properties['source'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['id'] !== null ? autolinker.link(feature.properties['id'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['country'] !== null ? autolinker.link(feature.properties['country'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['type'] !== null ? autolinker.link(feature.properties['type'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['undergrnd'] !== null ? autolinker.link(feature.properties['undergrnd'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['operator'] !== null ? autolinker.link(feature.properties['operator'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['phases'] !== null ? autolinker.link(feature.properties['phases'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['cables'] !== null ? autolinker.link(feature.properties['cables'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['year'] !== null ? autolinker.link(feature.properties['year'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400}).on('click', function() { 
                
                chart(feature.properties['voltage_kV'].toLocaleString())
                document.getElementById("electricityName").innerHTML = "";
                document.getElementById("electricityName").insertAdjacentHTML('beforeend', feature.properties['source'].toLocaleString());

                document.getElementById("electricityLocation").innerHTML = "";
                document.getElementById("electricityLocation").insertAdjacentHTML('beforeend', feature.properties['country'].toLocaleString());

                document.getElementById("electricityType").innerHTML = "";
                document.getElementById("electricityType").insertAdjacentHTML('beforeend', feature.properties['type'].toLocaleString());

                document.getElementById("electricityMISC").innerHTML = "";
                document.getElementById("electricityMISC").insertAdjacentHTML('beforeend', "Status: "+ feature.properties['status'].toLocaleString());
             });
        }

        function style_Electricity_2_0() {
            return {
                pane: 'pane_Electricity_2',
                opacity: 1,
                color: 'rgba(255,255,12,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 1.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_Electricity_2');
        map.getPane('pane_Electricity_2').style.zIndex = 402;
        map.getPane('pane_Electricity_2').style['mix-blend-mode'] = 'normal';
        var layer_Electricity_2 = new L.geoJson(json_Electricity_2, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Electricity_2',
            layerName: 'layer_Electricity_2',
            pane: 'pane_Electricity_2',
            onEachFeature: pop_Electricity_2,
            style: style_Electricity_2_0,
        });
        bounds_group.addLayer(layer_Electricity_2);
        map.addLayer(layer_Electricity_2);
        function pop_UnderseaCables_3(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Id'] !== null ? autolinker.link(feature.properties['Id'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Name'] !== null ? autolinker.link(feature.properties['Name'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Capacity_G'] !== null ? autolinker.link(feature.properties['Capacity_G'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['URL1'] !== null ? autolinker.link(feature.properties['URL1'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['URL2'] !== null ? autolinker.link(feature.properties['URL2'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Distance_K'] !== null ? autolinker.link(feature.properties['Distance_K'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['OverLand'] !== null ? autolinker.link(feature.properties['OverLand'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['NotLive'] !== null ? autolinker.link(feature.properties['NotLive'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['InService'] !== null ? autolinker.link(feature.properties['InService'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['precise'] !== null ? autolinker.link(feature.properties['precise'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Notes'] !== null ? autolinker.link(feature.properties['Notes'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400}).on('click', function() { 
                var url = "Info:   "+ (feature.properties['URL2'].toLocaleString() || feature.properties['URL1'].toLocaleString());
                
                document.getElementById("underseaType").innerHTML = "";
                document.getElementById("underseaType").insertAdjacentHTML('beforeend', url);
                   
                document.getElementById("underseaName").innerHTML = "";
                document.getElementById("underseaName").insertAdjacentHTML('beforeend', feature.properties['Name'].toLocaleString());

                document.getElementById("underseaLocation").innerHTML = "";
                document.getElementById("underseaLocation").insertAdjacentHTML('beforeend', "Below sea level:  " + feature.properties['Distance_K'].toLocaleString());

                document.getElementById("underseaMISC").innerHTML = "";
                document.getElementById("underseaMISC").insertAdjacentHTML('beforeend', feature.properties['URL1'].toLocaleString());
             });
            
        }

        function style_UnderseaCables_3_0() {
            return {
                pane: 'pane_UnderseaCables_3',
                opacity: 1,
                color: 'rgba(5,183,118,1.0)',
                dashArray: '',
                lineCap: 'square',
                lineJoin: 'bevel',
                weight: 1.0,
                fillOpacity: 0,
                interactive: true,
            }
        }
        map.createPane('pane_UnderseaCables_3');
        map.getPane('pane_UnderseaCables_3').style.zIndex = 403;
        map.getPane('pane_UnderseaCables_3').style['mix-blend-mode'] = 'normal';
        var layer_UnderseaCables_3 = new L.geoJson(json_UnderseaCables_3, {
            attribution: '',
            interactive: true,
            dataVar: 'json_UnderseaCables_3',
            layerName: 'layer_UnderseaCables_3',
            pane: 'pane_UnderseaCables_3',
            onEachFeature: pop_UnderseaCables_3,
            style: style_UnderseaCables_3_0,
        });
        bounds_group.addLayer(layer_UnderseaCables_3);
        map.addLayer(layer_UnderseaCables_3);
        function pop_IXP_4(feature, layer) {
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['FID_'] !== null ? autolinker.link(feature.properties['FID_'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Unnamed__0'] !== null ? autolinker.link(feature.properties['Unnamed__0'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['country'] !== null ? autolinker.link(feature.properties['country'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['total_by_c'] !== null ? autolinker.link(feature.properties['total_by_c'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['city'] !== null ? autolinker.link(feature.properties['city'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['ixpname'] !== null ? autolinker.link(feature.properties['ixpname'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['alternaten'] !== null ? autolinker.link(feature.properties['alternaten'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['sources'] !== null ? autolinker.link(feature.properties['sources'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['url'] !== null ? autolinker.link(feature.properties['url'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['participan'] !== null ? autolinker.link(feature.properties['participan'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['peak_pch'] !== null ? autolinker.link(feature.properties['peak_pch'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['avg_pch'] !== null ? autolinker.link(feature.properties['avg_pch'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['status_pch'] !== null ? autolinker.link(feature.properties['status_pch'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['only_in'] !== null ? autolinker.link(feature.properties['only_in'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['region'] !== null ? autolinker.link(feature.properties['region'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['year_'] !== null ? autolinker.link(feature.properties['year_'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['lmic'] !== null ? autolinker.link(feature.properties['lmic'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Lat'] !== null ? autolinker.link(feature.properties['Lat'].toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['Lon'] !== null ? autolinker.link(feature.properties['Lon'].toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            layer.bindPopup(popupContent, {maxHeight: 400}).on('click', function() { 
                try{
                    myPieChart(feature.properties['peak_pch'].toLocaleString(),feature.properties['avg_pch'].toLocaleString())
                }
                catch(e){
                    myPieChart("20","15")

                }
                document.getElementById("ixpName").innerHTML = "";
                document.getElementById("ixpName").insertAdjacentHTML('beforeend', feature.properties['ixpname'].toLocaleString());

                document.getElementById("ixpLocation").innerHTML = "";
                document.getElementById("ixpLocation").insertAdjacentHTML('beforeend', feature.properties['city'].toLocaleString());

                document.getElementById("ixpType").innerHTML = "";
                document.getElementById("ixpType").insertAdjacentHTML('beforeend', feature.properties['sources'].toLocaleString());
                try{
                    document.getElementById("ixpMISC").innerHTML = "";
                    document.getElementById("ixpMISC").insertAdjacentHTML('beforeend', feature.properties['url'].toLocaleString());
                }
                catch(e){
                    document.getElementById("ixpMISC").innerHTML = "";
                    document.getElementById("ixpMISC").insertAdjacentHTML('beforeend', "No URL");
                }
             
             });
        }

        function style_IXP_4_0() {
            return {
                pane: 'pane_IXP_4',
                radius: 4.0,
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(231,113,72,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_IXP_4');
        map.getPane('pane_IXP_4').style.zIndex = 404;
        map.getPane('pane_IXP_4').style['mix-blend-mode'] = 'normal';
        map.setView([10.2116702,38.6521203],5);
        var layer_IXP_4 = new L.geoJson(json_IXP_4, {
            attribution: '',
            interactive: true,
            dataVar: 'json_IXP_4',
            layerName: 'layer_IXP_4',
            pane: 'pane_IXP_4',
            onEachFeature: pop_IXP_4,
            pointToLayer: function (feature, latlng) {

                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.circleMarker(latlng, style_IXP_4_0(feature));
            },
        });
        bounds_group.addLayer(layer_IXP_4);
        map.addLayer(layer_IXP_4);
        var baseMaps = {};
        L.control.layers(baseMaps,{'<img src="legend/IXP_4.png" /> IXP': layer_IXP_4,'<img src="legend/UnderseaCables_3.png" /> Undersea Cables': layer_UnderseaCables_3,'<img src="legend/Electricity_2.png" /> Electricity': layer_Electricity_2,'<img src="legend/LandCables_1.png" /> Land Cables': layer_LandCables_1,'<img src="legend/Roads_1.png" /> Roads': layer_Roads_1,'<img src="legend/Precipitation_2.png" /> Precipitation': layer_Precipitation_2, '<img src="legend/Border.png" /> Border': layer_Eth_Zone_2013_1},{collapsed:false}).addTo(map);
        setBounds();
        </script>
                    
        <div class="table-responsive">
          <table class="table table-striped table-sm">
            <thead>
              <tr>
                <th>Layer Name</th>
                <th>Name</th>
                <th>Location</th>
                <th>Type</th>
                <th>MISC</th>
              </tr>
            </thead>
            <tbody>
              <tr><!-- <script type="text/javascript">document.write("json_IXP_4");</script> -->
                <td>IXP</td>
                <td id="ixpName">1 </td>
                <td id="ixpLocation">2</td>
                <td id="ixpType">3</td>
                <td id="ixpMISC">4</td>
              </tr>
        
              <tr>
                <td>Undersea Cables</td>
                <td id="underseaName">5</td>
                <td id="underseaLocation">6</td>
                <td id="underseaType">7</td>
                <td id="underseaMISC">8</td>
              </tr>
              <tr>
                <td>Electricity</td>
                <td id="electricityName">9</td>
                <td id="electricityLocation">10</td>
                <td id="electricityType">11</td>
                <td id="electricityMISC">12</td>
              </tr>
              <tr>
                <td>Land Cables</td>
                <td id="landCablesName">13</td>
                <td id="landCablesLocation">14</td>
                <td id="landCablesType">15</td>
                <td id="landCablesMISC">16</td>
              </tr>
            </tbody>
        
          </table>
          
        </div>
    
        <div class="container">
          <div class="row">
            <div class="col-sm col-m-3">
              <canvas id="myChartExample" width="100px" height="65px"></canvas>
            </div>
            <div class="col-sm col-m-3">
              <canvas id="myChartExample2" width="100px" height="65px" ></canvas>
            </div>
            <div class="col-sm col-m-3">
              <canvas id="myChartExample3" width="100px" height="65px" ></canvas>
            </div>
          </div>  
      </main>
    </div>
  </div>


  <script src="../assets/dist/js/bootstrap.bundle.min.js"></script>

  <script src="https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.min.js"
    integrity="sha384-uO3SXW5IuS1ZpFPKugNNWqTZRRglnUJK6UAZ/gxOX80nxEkN9NcGZTftn6RzhGWE"
    crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.4/dist/Chart.min.js"
    integrity="sha384-zNy6FEbO50N+Cg5wap8IKA4M/ZnLJgzc6w2NqACZaK0u0FXfOWRRJOnQtpZun8ha"
    crossorigin="anonymous"></script>
  <script src="dashboard.js"></script>


  <script>
      
      var pie = document.getElementById('myChartExample');
      var polarArea = document.getElementById('myChartExample2');
      var bar = document.getElementById('myChartExample3');



      var myPieChart =(peak_pch,avg_pch) => {
          var peak = peak_pch.replace(/G|M|K/g,'');
          var avg = avg_pch.replace(/G|M|K/g,'');
          console.log(peak,avg)
          new Chart(pie, {
    type: 'pie',
    data: {
        labels: ['IXP Peak pch', 'IXP average pch'],
        datasets: [{
            label: 'pch',
            data: [peak,avg],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});
      }

var chart = (kVoltage) => {
    new Chart(polarArea, {
    type: 'polarArea',
    data: {
        labels: ['Voltage average use in kV In chosen location', 'Voltage average use in kV Per area'],
        datasets: [{
            label: 'Voltage average use in kV',
            data: [kVoltage,430],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
});
}

var myBarChart = (rainfall) => { 
    new Chart(bar, {
            type: 'bar',
            data: {
        labels: ['Rainfall in January', 'Average Rainfall'],
        datasets: [{
            label: 'Precipitation in Chosen Location (in mm)',
            data: [rainfall, 125],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
            options: {
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true
                }
            }]
        }
    }
        });
    }
    myBarChart(10);
    chart(150);
    myPieChart("20","15")
  </script>
</body>

</html>